function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,r=document.querySelector("thead"),a=document.querySelector("tbody"),o=a.children,i=((n=document.createElement("form")).classList.add("new-employee-form"),n.setAttribute("method","get"),n.setAttribute("action","/"),n.setAttribute("novalidate",""),n.setAttribute("name","New employee"),n.innerHTML='\n    <label>\n      Name:\n      <input name="name" type="text" data-qa="name" required>\n    </label>\n    <label>\n      Position:\n      <input name="position" type="text" data-qa="position">\n    </label>\n    <label>\n      Office:\n      <select name="office" id="cities" data-qa="office">\n        <option value="Tokyo">Tokyo</option>\n        <option value="Singapore">Singapore</option>\n        <option value="London">London</option>\n        <option value="New York">New York</option>\n        <option value="Edinburgh">Edinburgh</option>\n        <option value="San Francisco">San Francisco</option>\n      </select>\n    </label>\n    <label>\n      Age:\n      <input name="age" type="number" data-qa="age" required>\n    </label>\n    <label>\n      Salary:\n      <input name="salary" type="number" data-qa="salary" required>\n    </label>\n    <button type="submit">Save to table</button>\n  ',document.body.append(n),n),c="Name",l="Position",s="Office",u="Salary";function d(e){return e.includes("$")&&0===e.indexOf("$")?+e.slice(1).split(",").join(""):+e}r.addEventListener("click",function(e){var n=t(o),r=e.target.innerText;Object.keys(e.target.dataset).length&&"asc"!==e.target.dataset.sort?(n.sort(function(e,t){switch(r){case c:return t.children[0].innerText.localeCompare(e.children[0].innerText);case l:return t.children[1].innerText.localeCompare(e.children[1].innerText);case s:return t.children[2].innerText.localeCompare(e.children[2].innerText);case"Age":return+t.children[3].innerText-+e.children[3].innerText;case u:return d(t.children[4].innerText)-d(e.children[4].innerText)}}),e.target.dataset.sort="asc"):(n.sort(function(e,t){switch(r){case c:return e.children[0].innerText.localeCompare(t.children[0].innerText);case l:return e.children[1].innerText.localeCompare(t.children[1].innerText);case s:return e.children[2].innerText.localeCompare(t.children[2].innerText);case"Age":return+e.children[3].innerText-+t.children[3].innerText;case u:return d(e.children[4].innerText)-d(t.children[4].innerText)}}),e.target.dataset.sort="desc"),a.innerHTML="",n.forEach(function(e){a.append(e)})}),a.addEventListener("click",function(e){for(var t=e.target.closest("tr"),n=0;n<a.rows.length;n++)a.rows[n].classList.contains("active")&&a.rows[n].classList.remove("active");t&&t.classList.add("active")}),a.addEventListener("dblclick",function(e){var n,a=e.target.closest("td"),o=a.innerText,i=r.rows[0].cells[a.cellIndex].innerText;if(a&&"INPUT"!==e.target.tagName){if(2!==a.cellIndex){switch(n=document.createElement("input"),i){case c:case l:n.setAttribute("type","text");break;case u:case"Age":n.setAttribute("type","number")}n.setAttribute("type","text"),n.setAttribute("value",o),n.setAttribute("autofocus",!0),n.setSelectionRange(n.value.length,n.value.length)}else(n=document.createElement("select")).innerHTML='\n      <option value="Tokyo">Tokyo</option>\n      <option value="Singapore">Singapore</option>\n      <option value="London">London</option>\n      <option value="New York">New York</option>\n      <option value="Edinburgh">Edinburgh</option>\n      <option value="San Francisco">San Francisco</option>\n    ',n.setAttribute("autofocus",!0),t(n.children).forEach(function(e){e.value===o&&e.setAttribute("selected",!0)});n.classList.add("cell-input"),a.innerText="",a.append(n),n.focus(),n.addEventListener("blur",function(e){var t=e.target.parentNode,r=n.value;o.includes("$")&&(r="$"+d(r).toLocaleString()),function(e,t){switch(t){case c:return!(e.length<4);case"Age":return!isNaN(+e)&&!(18>+e)&&!(+e>90);case u:return!isNaN(d(e));case l:return 0!==e.length;case s:return!0}}(r,i)?t.innerHTML=r:(p(10,10,"Wrong ".concat(i," value"),"Please, enter the correct value for the ".concat(i," field."),"error"),n.value=o,n.focus())}),window.addEventListener("keypress",function(e){"Enter"===e.code&&n.blur()})}}),i.addEventListener("submit",function(e){e.preventDefault();var t,n=new FormData(i);if(t=[],n.get("name").length<4&&(p(150,10,"Wrong name length","The name must contain 4 characters or more.","error"),t.push(!1)),(18>+n.get("age")||+n.get("age")>90)&&(p(290,10,"Wrong age","The age must be between 18 and 90.","error"),t.push(!1)),n.get("position").trim().length||(p(430,10,"Wrong position","Please enter a correct position.","error"),t.push(!1)),!t.includes(!1)){var r=[n.get("name"),n.get("position"),n.get("office"),n.get("age"),"$"+(+n.get("salary")).toLocaleString()],o=document.createElement("tr");a.append(o);for(var c=0;c<r.length;c++)o.innerHTML+="<td>".concat(r[c],"</td>");p(10,10,"New employee added","The employee successfully added to the table.","success"),i.reset()}});var p=function(e,t,n,r,a){var o=document.createElement("div");o.classList.add("notification"),o.dataset.qa="notification",o.classList.add(a),o.innerHTML='<h2 class="title">'.concat(n,"</h2><p>").concat(r,"</p>"),o.style.top=e+"px",o.style.right=t+"px",document.body.append(o),setTimeout(function(){return o.style.display="none"},2e3)};
//# sourceMappingURL=index.82451363.js.map
