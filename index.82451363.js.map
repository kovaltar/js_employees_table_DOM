{"mappings":"A,S,E,C,C,C,E,C,A,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,E,O,A,S,C,E,G,M,O,C,G,O,E,E,E,I,A,S,C,E,G,A,a,O,Q,A,M,C,C,O,Q,C,E,A,M,C,C,a,C,O,M,I,C,E,E,I,A,S,C,C,C,E,G,G,G,A,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,A,Q,G,A,Q,E,O,M,I,C,G,G,A,c,G,2C,I,C,G,O,E,E,K,G,E,I,A,W,M,A,U,wI,G,CCGA,IA8RQ,EA9RF,EAAQ,SAAS,aAAa,CAAC,SAC/B,EAAQ,SAAS,aAAa,CAAC,SAC/B,EAAY,EAAM,QAAQ,CAC1B,GA6RJ,CAFM,EAAO,SAAS,aAAa,CAAC,SAE/B,SAAS,CAAC,GAAG,CAAC,qBACnB,EAAK,YAAY,CAAC,SAAU,OAC5B,EAAK,YAAY,CAAC,SAAU,KAC5B,EAAK,YAAY,CAAC,aAAc,IAChC,EAAK,YAAY,CAAC,OAAQ,gBAE1B,EAAK,SAAS,CAAI,i5BA+BlB,SAAS,IAAI,CAAC,MAAM,CAAC,GAEd,GAnUH,EAAY,OAEZ,EAAgB,WAChB,EAAc,SACd,EAAc,SAgQpB,SAAS,EAAe,CAAG,SACzB,AAAI,EAAI,QAAQ,CAAC,MAAQ,AAAqB,IAArB,EAAI,OAAO,CAAC,KAC5B,CAAC,EAAI,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,IAAI,CAAC,IAGhC,CAAC,CACV,CApQA,EAAM,gBAAgB,CAAC,QAsMvB,SAAmB,CAAC,EAClB,IAAM,EAAW,EAAG,GACd,EAAa,EAAE,MAAM,CAAC,SAAS,AAGnC,AAAC,CAAA,OAAO,IAAI,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EACrC,AAA0B,QAA1B,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,EAsBrB,EAAQ,IAAI,CAAC,SAAC,CAAA,CAAG,CAAjB,EACE,OAAQ,GACN,KAAK,EACH,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,SA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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\"use strict\";\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n// write code here\nvar thead = document.querySelector(\"thead\");\nvar tbody = document.querySelector(\"tbody\");\nvar tbodyRows = tbody.children;\nvar employeeForm = createForm();\nvar theadName = \"Name\";\nvar theadAge = \"Age\";\nvar theadPosition = \"Position\";\nvar theadOffice = \"Office\";\nvar theadSalary = \"Salary\";\nthead.addEventListener(\"click\", sortTable);\ntbody.addEventListener(\"click\", sellectRow);\ntbody.addEventListener(\"dblclick\", editCell);\nemployeeForm.addEventListener(\"submit\", submitForm);\nfunction submitForm(e) {\n    e.preventDefault();\n    var data = new FormData(employeeForm);\n    if (checkFields(data)) return;\n    var dataArr = [\n        data.get(\"name\"),\n        data.get(\"position\"),\n        data.get(\"office\"),\n        data.get(\"age\"),\n        \"$\" + (+data.get(\"salary\")).toLocaleString()\n    ];\n    var tr = document.createElement(\"tr\");\n    tbody.append(tr);\n    for(var i = 0; i < dataArr.length; i++)tr.innerHTML += \"<td>\".concat(dataArr[i], \"</td>\");\n    pushNotification(10, 10, \"New employee added\", \"The employee successfully added to the table.\", \"success\");\n    employeeForm.reset();\n}\nfunction checkTableValues(value, headValue) {\n    switch(headValue){\n        case theadName:\n            return !(value.length < 4);\n        case theadAge:\n            return !isNaN(+value) && !(+value < 18) && !(+value > 90);\n        case theadSalary:\n            return !isNaN(salaryToNumber(value));\n        case theadPosition:\n            return !(value.length === 0);\n        case theadOffice:\n            return true;\n    }\n}\nfunction checkFields(formData) {\n    var cheksArr = [];\n    if (formData.get(\"name\").length < 4) {\n        pushNotification(150, 10, \"Wrong name length\", \"The name must contain 4 characters or more.\", \"error\");\n        cheksArr.push(false);\n    }\n    if (+formData.get(\"age\") < 18 || +formData.get(\"age\") > 90) {\n        pushNotification(290, 10, \"Wrong age\", \"The age must be between 18 and 90.\", \"error\");\n        cheksArr.push(false);\n    }\n    if (!formData.get(\"position\").trim().length) {\n        pushNotification(430, 10, \"Wrong position\", \"Please enter a correct position.\", \"error\");\n        cheksArr.push(false);\n    }\n    return cheksArr.includes(false);\n}\nfunction editCell(e) {\n    var cell = e.target.closest(\"td\");\n    var curValue = cell.innerText;\n    var theadValue = thead.rows[0].cells[cell.cellIndex].innerText;\n    var cellInput;\n    if (!cell || e.target.tagName === \"INPUT\") return;\n    if (cell.cellIndex !== 2) {\n        cellInput = document.createElement(\"input\");\n        switch(theadValue){\n            case theadName:\n            case theadPosition:\n                cellInput.setAttribute(\"type\", \"text\");\n                break;\n            case theadSalary:\n            case theadAge:\n                cellInput.setAttribute(\"type\", \"number\");\n                break;\n        }\n        cellInput.setAttribute(\"type\", \"text\");\n        cellInput.setAttribute(\"value\", curValue);\n        cellInput.setAttribute(\"autofocus\", true);\n        cellInput.setSelectionRange(cellInput.value.length, cellInput.value.length);\n    } else {\n        cellInput = document.createElement(\"select\");\n        cellInput.innerHTML = '\\n      <option value=\"Tokyo\">Tokyo</option>\\n      <option value=\"Singapore\">Singapore</option>\\n      <option value=\"London\">London</option>\\n      <option value=\"New York\">New York</option>\\n      <option value=\"Edinburgh\">Edinburgh</option>\\n      <option value=\"San Francisco\">San Francisco</option>\\n    ';\n        cellInput.setAttribute(\"autofocus\", true);\n        _to_consumable_array(cellInput.children).forEach(function(element) {\n            if (element.value === curValue) element.setAttribute(\"selected\", true);\n        });\n    }\n    cellInput.classList.add(\"cell-input\");\n    cell.innerText = \"\";\n    cell.append(cellInput);\n    cellInput.focus();\n    cellInput.addEventListener(\"blur\", changeValue);\n    window.addEventListener(\"keypress\", function(evt) {\n        if (evt.code === \"Enter\") cellInput.blur();\n    });\n    function changeValue(evt) {\n        var tdCell = evt.target.parentNode;\n        var newValue = cellInput.value;\n        if (curValue.includes(\"$\")) newValue = \"$\" + salaryToNumber(newValue).toLocaleString();\n        if (checkTableValues(newValue, theadValue)) tdCell.innerHTML = newValue;\n        else {\n            pushNotification(10, 10, \"Wrong \".concat(theadValue, \" value\"), \"Please, enter the correct value for the \".concat(theadValue, \" field.\"), \"error\");\n            cellInput.value = curValue;\n            cellInput.focus();\n        }\n    }\n}\nfunction sellectRow(e) {\n    var row = e.target.closest(\"tr\");\n    for(var i = 0; i < tbody.rows.length; i++)if (tbody.rows[i].classList.contains(\"active\")) tbody.rows[i].classList.remove(\"active\");\n    if (!row) return;\n    row.classList.add(\"active\");\n}\nfunction sortTable(e) {\n    var rowsArr = _to_consumable_array(tbodyRows);\n    var targetText = e.target.innerText;\n    if (!Object.keys(e.target.dataset).length || e.target.dataset.sort === \"asc\") {\n        rowsArr.sort(function(a, b) {\n            switch(targetText){\n                case theadName:\n                    return a.children[0].innerText.localeCompare(b.children[0].innerText);\n                case theadPosition:\n                    return a.children[1].innerText.localeCompare(b.children[1].innerText);\n                case theadOffice:\n                    return a.children[2].innerText.localeCompare(b.children[2].innerText);\n                case theadAge:\n                    return +a.children[3].innerText - +b.children[3].innerText;\n                case theadSalary:\n                    return salaryToNumber(a.children[4].innerText) - salaryToNumber(b.children[4].innerText);\n            }\n        });\n        e.target.dataset.sort = \"desc\";\n    } else {\n        rowsArr.sort(function(a, b) {\n            switch(targetText){\n                case theadName:\n                    return b.children[0].innerText.localeCompare(a.children[0].innerText);\n                case theadPosition:\n                    return b.children[1].innerText.localeCompare(a.children[1].innerText);\n                case theadOffice:\n                    return b.children[2].innerText.localeCompare(a.children[2].innerText);\n                case theadAge:\n                    return +b.children[3].innerText - +a.children[3].innerText;\n                case theadSalary:\n                    return salaryToNumber(b.children[4].innerText) - salaryToNumber(a.children[4].innerText);\n            }\n        });\n        e.target.dataset.sort = \"asc\";\n    }\n    tbody.innerHTML = \"\";\n    rowsArr.forEach(function(element) {\n        tbody.append(element);\n    });\n}\nfunction salaryToNumber(str) {\n    if (str.includes(\"$\") && str.indexOf(\"$\") === 0) return +str.slice(1).split(\",\").join(\"\");\n    return +str;\n}\nvar pushNotification = function(posTop, posRight, title, description, type) {\n    var notification = document.createElement(\"div\");\n    notification.classList.add(\"notification\");\n    notification.dataset.qa = \"notification\";\n    notification.classList.add(type);\n    notification.innerHTML = '<h2 class=\"title\">'.concat(title, \"</h2><p>\").concat(description, \"</p>\");\n    notification.style.top = posTop + \"px\";\n    notification.style.right = posRight + \"px\";\n    document.body.append(notification);\n    setTimeout(function() {\n        return notification.style.display = \"none\";\n    }, 2000);\n};\nfunction createForm() {\n    var form = document.createElement(\"form\");\n    form.classList.add(\"new-employee-form\");\n    form.setAttribute(\"method\", \"get\");\n    form.setAttribute(\"action\", \"/\");\n    form.setAttribute(\"novalidate\", \"\");\n    form.setAttribute(\"name\", \"New employee\");\n    form.innerHTML = '\\n    <label>\\n      Name:\\n      <input name=\"name\" type=\"text\" data-qa=\"name\" required>\\n    </label>\\n    <label>\\n      Position:\\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\\n    </label>\\n    <label>\\n      Office:\\n      <select name=\"office\" id=\"cities\" data-qa=\"office\">\\n        <option value=\"Tokyo\">Tokyo</option>\\n        <option value=\"Singapore\">Singapore</option>\\n        <option value=\"London\">London</option>\\n        <option value=\"New York\">New York</option>\\n        <option value=\"Edinburgh\">Edinburgh</option>\\n        <option value=\"San Francisco\">San Francisco</option>\\n      </select>\\n    </label>\\n    <label>\\n      Age:\\n      <input name=\"age\" type=\"number\" data-qa=\"age\" required>\\n    </label>\\n    <label>\\n      Salary:\\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\\n    </label>\\n    <button type=\"submit\">Save to table</button>\\n  ';\n    document.body.append(form);\n    return form;\n}\n\n//# sourceMappingURL=index.82451363.js.map\n","'use strict';\n\n// write code here\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst tbodyRows = tbody.children;\nconst employeeForm = createForm();\nconst theadName = 'Name';\nconst theadAge = 'Age';\nconst theadPosition = 'Position';\nconst theadOffice = 'Office';\nconst theadSalary = 'Salary';\n\nthead.addEventListener('click', sortTable);\ntbody.addEventListener('click', sellectRow);\ntbody.addEventListener('dblclick', editCell);\nemployeeForm.addEventListener('submit', submitForm);\n\nfunction submitForm(e) {\n  e.preventDefault();\n\n  const data = new FormData(employeeForm);\n\n  if (checkFields(data)) {\n    return;\n  }\n\n  const dataArr = [\n    data.get('name'),\n    data.get('position'),\n    data.get('office'),\n    data.get('age'),\n    '$' + (+data.get('salary')).toLocaleString(),\n  ];\n\n  const tr = document.createElement('tr');\n\n  tbody.append(tr);\n\n  for (let i = 0; i < dataArr.length; i++) {\n    tr.innerHTML += `<td>${dataArr[i]}</td>`;\n  }\n\n  pushNotification(\n    10,\n    10,\n    'New employee added',\n    'The employee successfully added to the table.',\n    'success',\n  );\n\n  employeeForm.reset();\n}\n\nfunction checkTableValues(value, headValue) {\n  switch (headValue) {\n    case theadName:\n      return !(value.length < 4);\n    case theadAge:\n      return !isNaN(+value) && !(+value < 18) && !(+value > 90);\n    case theadSalary:\n      return !isNaN(salaryToNumber(value));\n    case theadPosition:\n      return !(value.length === 0);\n    case theadOffice:\n      return true;\n  }\n}\n\nfunction checkFields(formData) {\n  const cheksArr = [];\n\n  if (formData.get('name').length < 4) {\n    pushNotification(\n      150,\n      10,\n      'Wrong name length',\n      'The name must contain 4 characters or more.',\n      'error',\n    );\n\n    cheksArr.push(false);\n  }\n\n  if (+formData.get('age') < 18 || +formData.get('age') > 90) {\n    pushNotification(\n      290,\n      10,\n      'Wrong age',\n      'The age must be between 18 and 90.',\n      'error',\n    );\n\n    cheksArr.push(false);\n  }\n\n  if (!formData.get('position').trim().length) {\n    pushNotification(\n      430,\n      10,\n      'Wrong position',\n      'Please enter a correct position.',\n      'error',\n    );\n\n    cheksArr.push(false);\n  }\n\n  return cheksArr.includes(false);\n}\n\nfunction editCell(e) {\n  const cell = e.target.closest('td');\n  const curValue = cell.innerText;\n  const theadValue = thead.rows[0].cells[cell.cellIndex].innerText;\n  let cellInput;\n\n  if (!cell || e.target.tagName === 'INPUT') {\n    return;\n  }\n\n  if (cell.cellIndex !== 2) {\n    cellInput = document.createElement('input');\n\n    switch (theadValue) {\n      case theadName:\n      case theadPosition:\n        cellInput.setAttribute('type', 'text');\n        break;\n      case theadSalary:\n      case theadAge:\n        cellInput.setAttribute('type', 'number');\n        break;\n    }\n\n    cellInput.setAttribute('type', 'text');\n    cellInput.setAttribute('value', curValue);\n    cellInput.setAttribute('autofocus', true);\n    cellInput.setSelectionRange(cellInput.value.length, cellInput.value.length);\n  } else {\n    cellInput = document.createElement('select');\n\n    cellInput.innerHTML = `\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    `;\n    cellInput.setAttribute('autofocus', true);\n\n    [...cellInput.children].forEach((element) => {\n      if (element.value === curValue) {\n        element.setAttribute('selected', true);\n      }\n    });\n  }\n\n  cellInput.classList.add('cell-input');\n  cell.innerText = '';\n  cell.append(cellInput);\n  cellInput.focus();\n  cellInput.addEventListener('blur', changeValue);\n\n  window.addEventListener('keypress', (evt) => {\n    if (evt.code === 'Enter') {\n      cellInput.blur();\n    }\n  });\n\n  function changeValue(evt) {\n    const tdCell = evt.target.parentNode;\n    let newValue = cellInput.value;\n\n    if (curValue.includes('$')) {\n      newValue = '$' + salaryToNumber(newValue).toLocaleString();\n    }\n\n    if (checkTableValues(newValue, theadValue)) {\n      tdCell.innerHTML = newValue;\n    } else {\n      pushNotification(\n        10,\n        10,\n        `Wrong ${theadValue} value`,\n        `Please, enter the correct value for the ${theadValue} field.`,\n        'error',\n      );\n      cellInput.value = curValue;\n      cellInput.focus();\n    }\n  }\n}\n\nfunction sellectRow(e) {\n  const row = e.target.closest('tr');\n\n  for (let i = 0; i < tbody.rows.length; i++) {\n    if (tbody.rows[i].classList.contains('active')) {\n      tbody.rows[i].classList.remove('active');\n    }\n  }\n\n  if (!row) {\n    return;\n  }\n\n  row.classList.add('active');\n}\n\nfunction sortTable(e) {\n  const rowsArr = [...tbodyRows];\n  const targetText = e.target.innerText;\n\n  if (\n    !Object.keys(e.target.dataset).length ||\n    e.target.dataset.sort === 'asc'\n  ) {\n    rowsArr.sort((a, b) => {\n      switch (targetText) {\n        case theadName:\n          return a.children[0].innerText.localeCompare(b.children[0].innerText);\n        case theadPosition:\n          return a.children[1].innerText.localeCompare(b.children[1].innerText);\n        case theadOffice:\n          return a.children[2].innerText.localeCompare(b.children[2].innerText);\n        case theadAge:\n          return +a.children[3].innerText - +b.children[3].innerText;\n        case theadSalary:\n          return (\n            salaryToNumber(a.children[4].innerText) -\n            salaryToNumber(b.children[4].innerText)\n          );\n      }\n    });\n\n    e.target.dataset.sort = 'desc';\n  } else {\n    rowsArr.sort((a, b) => {\n      switch (targetText) {\n        case theadName:\n          return b.children[0].innerText.localeCompare(a.children[0].innerText);\n        case theadPosition:\n          return b.children[1].innerText.localeCompare(a.children[1].innerText);\n        case theadOffice:\n          return b.children[2].innerText.localeCompare(a.children[2].innerText);\n        case theadAge:\n          return +b.children[3].innerText - +a.children[3].innerText;\n        case theadSalary:\n          return (\n            salaryToNumber(b.children[4].innerText) -\n            salaryToNumber(a.children[4].innerText)\n          );\n      }\n    });\n\n    e.target.dataset.sort = 'asc';\n  }\n\n  tbody.innerHTML = '';\n\n  rowsArr.forEach((element) => {\n    tbody.append(element);\n  });\n}\n\nfunction salaryToNumber(str) {\n  if (str.includes('$') && str.indexOf('$') === 0) {\n    return +str.slice(1).split(',').join('');\n  }\n\n  return +str;\n}\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification');\n  notification.dataset.qa = 'notification';\n  notification.classList.add(type);\n  notification.innerHTML = `<h2 class=\"title\">${title}</h2><p>${description}</p>`;\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px';\n  document.body.append(notification);\n  setTimeout(() => (notification.style.display = 'none'), 2000);\n};\n\nfunction createForm() {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n  form.setAttribute('method', 'get');\n  form.setAttribute('action', '/');\n  form.setAttribute('novalidate', '');\n  form.setAttribute('name', 'New employee');\n\n  form.innerHTML = `\n    <label>\n      Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n    </label>\n    <label>\n      Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n    <label>\n      Office:\n      <select name=\"office\" id=\"cities\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>\n      Age:\n      <input name=\"age\" type=\"number\" data-qa=\"age\" required>\n    </label>\n    <label>\n      Salary:\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n    </label>\n    <button type=\"submit\">Save to table</button>\n  `;\n\n  document.body.append(form);\n\n  return form;\n}\n"],"names":["_array_like_to_array","arr","len","length","i","arr2","Array","_to_consumable_array","_array_without_holes","isArray","_iterable_to_array","iter","Symbol","iterator","from","_unsupported_iterable_to_array","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_non_iterable_spread","TypeError","form","thead","document","querySelector","tbody","tbodyRows","children","employeeForm","createElement","classList","add","setAttribute","innerHTML","body","append","theadName","theadPosition","theadOffice","theadSalary","salaryToNumber","str","includes","indexOf","split","join","addEventListener","e","rowsArr","targetText","target","innerText","keys","dataset","sort","a","b","localeCompare","forEach","element","row","closest","rows","contains","remove","cellInput","cell","curValue","theadValue","cells","cellIndex","tagName","setSelectionRange","value","focus","evt","tdCell","parentNode","newValue","toLocaleString","checkTableValues","headValue","isNaN","pushNotification","concat","window","code","blur","preventDefault","cheksArr","data","FormData","formData","get","push","trim","dataArr","tr","reset","posTop","posRight","title","description","type","notification","qa","style","top","right","setTimeout","display"],"version":3,"file":"index.82451363.js.map"}